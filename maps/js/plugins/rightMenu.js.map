{"version":3,"sources":["js/plugins/rightMenu.js"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","_regeneratorRuntime","r","t","e","Object","n","hasOwnProperty","i","a","asyncIterator","u","toStringTag","c","defineProperty","value","enumerable","configurable","writable","h","Generator","create","Error","done","method","arg","delegate","d","f","sent","_sent","dispatchException","abrupt","s","type","Context","call","wrap","GeneratorFunction","GeneratorFunctionPrototype","l","this","p","getPrototypeOf","y","x","v","g","forEach","_invoke","AsyncIterator","resolve","__await","then","TypeError","next","w","tryEntries","push","m","reset","isNaN","length","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","unshift","pop","values","prev","charAt","slice","stop","rval","complete","finish","catch","delegateYield","_defineProperty","_toPropertyKey","_toPrimitive","toPrimitive","String","Number","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","RightMenu","rightMenuConfig","volantis","GLOBAL_CONFIG","plugins","rightmenu","messageRightMenu","message","enable","fn","_rightMenuWrapper","document","getElementById","_rightMenuContent","_printHtml","_menuMusic","_readingModel","_readBkg","_menuLoad","querySelectorAll","_menuOption","querySelector","_searchWord","_copyText","_copyPaste","_copySelect","_copyCut","_copyHref","_copySrc","_copyImg","_openTab","_backward","_toggle","_forward","urlRegx","init","DOMController","visible","parentNode","removeChild","readBkg","createElement","className","id","window","body","appendChild","initEvent","oncontextmenu","event","ctrlKey","offsetWidth","hideMenu","popMenu","stopPropagation","preventDefault","removeEventListener","addEventListener","onclick","RightMenuAplayer","aplayerBackward","aplayerToggle","aplayerForward","mouseClientX","clientX","mouseClientY","clientY","screenWidth","documentElement","clientWidth","screenHeight","clientHeight","setMenuItem","focus","style","zIndex","menuWidth","menuHeight","offsetHeight","showLeft","showTop","left","top","notice","showMessage","error","blur","console","NoticeRightMenu","localStorage","getItem","VolantisApp","icon","faicon","time","setItem","optionFlag","eventTarget","target","selectText","getSelection","toString","tagName","toLowerCase","inputStr","select","statrPos","selectionStart","endPos","selectionEnd","copyString","substring","readClipboard","text","insertAtCaret","err","eventHref","href","test","open","eventSrc","currentSrc","trimEnd","endsWith","writeClipImg","flag","OpenSearch","_printArticle","pathName","location","pathname","question","printHtml","readingModel","aplayer","APlayer","player","undefined","music_alwaysShow","status","ele","layout","includes","checkAPlayer","str","utilWriteClipText","messageCopyright","writeClipText","navigator","clipboard","writeText","reject","input","setAttribute","result","execCommand","_ref","_callee","success","parentElement","data","blob","dom","textRange","selection","range","_context","customPicUrl","replace","old","fetch","write","ClipboardItem","t0","createTextRange","moveToElementText","createRange","selectNodeContents","removeAllRanges","addRange","_x","_x2","_x3","_callee2","_context2","permissions","query","state","readText","elemt","startPos","scrollTop","isReadModel","remove","setStyle","setTimeout","print","innerHTML","reload","ScrollReveal","clean","fadeToggle","toggleClass","option","backgroundColor","hasClass","destroy","freeze","requestAnimationFrame","readyState","pjax","send"],"mappings":"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","file":"../../../js/plugins/rightMenu.js","sourcesContent":["const RightMenu = (() => {\n  const\n    rightMenuConfig = volantis.GLOBAL_CONFIG.plugins.rightmenu,\n    messageRightMenu = volantis.GLOBAL_CONFIG.plugins.message.enable && volantis.GLOBAL_CONFIG.plugins.message.rightmenu.enable;\n\n  const\n    fn = {},\n    _rightMenuWrapper = document.getElementById('rightmenu-wrapper'),\n    _rightMenuContent = document.getElementById('rightmenu-content'),\n    _printHtml = document.getElementById('printHtml'),\n    _menuMusic = document.getElementById('menuMusic'),\n    _readingModel = document.getElementById('readingModel'),\n    _readBkg = document.getElementById('read_bkg');\n\n  const\n    _menuLoad = document.querySelectorAll('.menuLoad-Content'),\n    _menuOption = document.querySelector('.menu-Option'),\n    _searchWord = document.querySelector('.menu-Option[data-fn-type=\"searchWord\"]'),\n    _copyText = document.querySelector('.menu-Option[data-fn-type=\"copyText\"]'),\n    _copyPaste = document.querySelector('.menu-Option[data-fn-type=\"copyPaste\"]'),\n    _copySelect = document.querySelector('.menu-Option[data-fn-type=\"copySelect\"]'),\n    _copyCut = document.querySelector('.menu-Option[data-fn-type=\"copyCut\"]'),\n    _copyHref = document.querySelector('.menu-Option[data-fn-type=\"copyHref\"]'),\n    _copySrc = document.querySelector('.menu-Option[data-fn-type=\"copySrc\"]'),\n    _copyImg = document.querySelector('.menu-Option[data-fn-type=\"copyImg\"]'),\n    _openTab = document.querySelector('.menu-Option[data-fn-type=\"openTab\"]'),\n    _backward = document.querySelector('#menuMusic .backward'),\n    _toggle = document.querySelector('#menuMusic .toggle'),\n    _forward = document.querySelector('#menuMusic .forward');\n\n  const urlRegx = /^((https|http)?:\\/\\/)+[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&_~`@[\\]\\':+!]*([^<>\\\"\\\"])*$/;\n\n  fn.init = () => {\n    DOMController.visible(_menuMusic, false);\n    DOMController.visible(_menuOption, false);\n    if (_readBkg) _readBkg.parentNode.removeChild(_readBkg);\n\n    const readBkg = document.createElement(\"div\");\n    readBkg.className = \"common_read_bkg common_read_hide\";\n    readBkg.id = \"read_bkg\";\n    window.document.body.appendChild(readBkg);\n  }\n\n  fn.initEvent = () => {\n    window.document.oncontextmenu = (event) => {\n      if (event.ctrlKey || document.body.offsetWidth <= 500) {\n        fn.hideMenu();\n        return true;\n      }\n      return fn.popMenu(event);\n    }\n\n    _rightMenuWrapper.oncontextmenu = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      return false;\n    }\n\n    window.removeEventListener('blur', fn.hideMenu);\n    window.addEventListener('blur', fn.hideMenu);\n    document.body.removeEventListener('click', fn.hideMenu);\n    document.body.addEventListener('click', fn.hideMenu);\n\n    if (_forward && _toggle && _forward) {\n      _backward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerBackward();\n      }\n      _toggle.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerToggle();\n      }\n      _forward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerForward();\n      }\n    }\n  }\n\n  // 菜单位置设定\n  fn.popMenu = (event) => {\n    let mouseClientX = event.clientX;\n    let mouseClientY = event.clientY;\n    let screenWidth = document.documentElement.clientWidth || document.body.clientWidth;\n    let screenHeight = document.documentElement.clientHeight || document.body.clientHeight;\n\n    try {\n      fn.setMenuItem(event);\n      DOMController.visible(_rightMenuWrapper);\n      _rightMenuWrapper.focus();\n      _rightMenuWrapper.style.zIndex = '-2147483648';\n      let menuWidth = _rightMenuContent.offsetWidth;\n      let menuHeight = _rightMenuContent.offsetHeight;\n      let showLeft = mouseClientX + menuWidth > screenWidth ? mouseClientX - menuWidth + 10 : mouseClientX;\n      let showTop = mouseClientY + menuHeight > screenHeight ? mouseClientY - menuHeight + 10 : mouseClientY;\n      showTop = mouseClientY + menuHeight > screenHeight && showTop < menuHeight && mouseClientY < menuHeight ?\n        showTop + (screenHeight - menuHeight - showTop - 10) : showTop;\n      _rightMenuWrapper.style.left = showLeft + \"px\";\n      _rightMenuWrapper.style.top = showTop + \"px\";\n      _rightMenuWrapper.style.zIndex = '2147483648';\n      if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) fn.showMessage();\n    } catch (error) {\n      _rightMenuWrapper.blur();\n      console.error(error);\n      return true;\n    }\n\n    return false;\n  }\n\n  // 消息提示\n  fn.showMessage = () => {\n    const NoticeRightMenu = localStorage.getItem('NoticeRightMenu') === 'true';\n    if (messageRightMenu && !NoticeRightMenu)\n      VolantisApp.message('右键菜单', '唤醒原系统菜单请使用：<kbd>Ctrl</kbd> + <kbd>右键</kbd>', {\n        icon: rightMenuConfig.faicon + ' fa-exclamation-square red',\n        time: 9000\n      }, () => {\n        localStorage.setItem('NoticeRightMenu', 'true')\n      });\n  }\n\n  // 菜单项设置\n  fn.setMenuItem = (event) => {\n    let optionFlag = false;\n    const eventTarget = event.target;\n    const selectText = window.getSelection().toString();\n    DOMController.visible(_openTab, false); // 隐藏新标签页打开\n\n    // 判断是否是输入框\n    if (eventTarget.tagName.toLowerCase() === 'input' || eventTarget.tagName.toLowerCase() === 'textarea') {\n      const inputStr = eventTarget.value;\n\n      // 全选\n      if (inputStr.length > 0) {\n        DOMController.visible(_copySelect);\n        _copySelect.onclick = () => {\n          event.preventDefault();\n          eventTarget.select();\n        }\n      } else {\n        DOMController.visible(_copySelect, false);\n      }\n\n      // 剪切\n      if (selectText) {\n        DOMController.visible(_copyCut);\n        _copyCut.onclick = () => {\n          const statrPos = eventTarget.selectionStart;\n          const endPos = eventTarget.selectionEnd;\n          fn.copyString(selectText);\n          eventTarget.value = inputStr.substring(0, statrPos) + inputStr.substring(endPos, inputStr.length);\n          eventTarget.selectionStart = statrPos;\n          eventTarget.selectionEnd = statrPos;\n          eventTarget.focus();\n        }\n      } else {\n        DOMController.visible(_copyCut, false);\n      }\n\n      // 粘贴\n      fn.readClipboard().then(text => {\n        // 如果剪切板存在内容\n        if (!!text) {\n          DOMController.visible(_copyPaste);\n          _copyPaste.onclick = () => {\n            fn.insertAtCaret(eventTarget, text);\n          }\n        } else {\n          DOMController.visible(_copyPaste, false);\n        }\n      }).catch((err) => {\n        console.error(err);\n        DOMController.visible(_copyPaste, false);\n      });\n    } else {\n      DOMController.visible(_copySelect, false);\n      DOMController.visible(_copyPaste, false);\n      DOMController.visible(_copyCut, false);\n    }\n\n    // 新标签打开链接\n    const eventHref = eventTarget.href;\n    if (!!eventHref && urlRegx.test(eventHref)) {\n      optionFlag = true;\n      DOMController.visible(_copyHref);\n      DOMController.visible(_openTab);\n      if (_copyHref) _copyHref.onclick = () => {\n        fn.copyString(eventHref);\n      }\n      _openTab.onclick = () => {\n        window.open(eventHref);\n      }\n    } else {\n      DOMController.visible(_copyHref, false);\n    }\n\n    // 新标签打开图片 & 复制图片链接\n    const eventSrc = eventTarget.currentSrc;\n    if (!!eventSrc && urlRegx.test(eventSrc)) {\n      optionFlag = true;\n      DOMController.visible(_copySrc);\n      DOMController.visible(_openTab);\n\n      _copySrc.onclick = () => {\n        fn.copyString(eventSrc);\n      }\n\n      _openTab.onclick = () => {\n        window.open(eventSrc);\n      }\n    } else {\n      DOMController.visible(_copySrc, false);\n    }\n\n    // 复制图片\n    if (!!eventSrc && urlRegx.test(eventSrc) && eventSrc.trimEnd().endsWith('.png')) {\n      optionFlag = true;\n      DOMController.visible(_copyImg);\n\n      _copyImg.onclick = () => {\n        fn.writeClipImg(event, flag => {\n          if (flag && messageRightMenu) VolantisApp.message('系统提示', '图片复制成功！', {\n            icon: rightMenuConfig.faicon + ' fa-images'\n          });\n        }, (error) => {\n          if (messageRightMenu) VolantisApp.message('系统提示', '复制失败：' + error, {\n            icon: rightMenuConfig.faicon + ' fa-exclamation-square red'\n          });\n        })\n      }\n    } else {\n      DOMController.visible(_copyImg, false);\n    }\n\n    // 复制文本\n    if (selectText) {\n      optionFlag = true;\n      DOMController.visible(_copyText);\n      DOMController.visible(_searchWord);\n\n      _copyText.onclick = () => {\n        fn.copyString(selectText);\n      }\n\n      !!_searchWord && (_searchWord.onclick = () => {\n        OpenSearch(selectText);\n      })\n    } else {\n      DOMController.visible(_copyText, false);\n      DOMController.visible(_searchWord, false);\n    }\n\n    // 打印\n    const _printArticle = document.querySelector('#post.article') || null;\n    const pathName = window.location.pathname;\n    if (!!_printArticle) {\n      DOMController.visible(_printHtml);\n      DOMController.visible(_readingModel);\n\n      if (_printHtml) {\n        _printHtml.onclick = () => {\n          if (window.location.pathname === pathName) {\n            const message = '是否打印当前页面？<br><em style=\"font-size: 80%\">建议打印时勾选背景图形</em><br>';\n            if (messageRightMenu) VolantisApp.question('', message, {}, () => {\n              fn.printHtml();\n            })\n          } else {\n            fn.hideMenu();\n          }\n        }\n      }\n\n      if (_readingModel) {\n        _readingModel.onclick = () => {\n          if (window.location.pathname === pathName) {\n            fn.readingModel();\n          } else {\n            fn.readingModel();\n          }\n        }\n      }\n\n    } else {\n      DOMController.visible(_printHtml, false);\n      DOMController.visible(_readingModel, false);\n    }\n\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer.enable\n      && typeof RightMenuAplayer !== 'undefined'\n      && RightMenuAplayer.APlayer.player !== undefined) {\n      if (rightMenuConfig.music_alwaysShow) {\n        DOMController.visible(_menuMusic);\n      } else if (RightMenuAplayer.APlayer.status === 'play' || RightMenuAplayer.APlayer.status === 'undefined') {\n        optionFlag = true;\n        DOMController.visible(_menuMusic);\n      } else {\n        DOMController.visible(_menuMusic, false);\n      }\n    } else {\n      DOMController.visible(_menuMusic, false);\n    }\n\n    _menuLoad.forEach(ele => {\n      DOMController.visible(ele, !optionFlag);\n    })\n\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer.enable\n      && rightMenuConfig.layout.includes('music')) {\n      RightMenuAplayer.checkAPlayer();\n    }\n  }\n\n  // 隐藏菜单\n  fn.hideMenu = () => {\n    DOMController.visible(_rightMenuWrapper, false);\n  }\n\n  // 复制字符串\n  fn.copyString = (str) => {\n    VolantisApp.utilWriteClipText(str)\n      .then(() => {\n        if (messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.faicon + ' fa-exclamation-square red'\n          });\n        }\n      })\n  }\n\n  // 写入文本到剪切板\n  fn.writeClipText = (str) => {\n    try {\n      return navigator.clipboard\n        .writeText(str)\n        .then(() => {\n          return Promise.resolve()\n        })\n        .catch(err => {\n          return Promise.reject(err)\n        })\n    } catch (e) {\n      const input = document.createElement('input');\n      input.setAttribute('readonly', 'readonly');\n      document.body.appendChild(input);\n      input.setAttribute('value', str);\n      input.select();\n      try {\n        let result = document.execCommand('copy')\n        document.body.removeChild(input);\n        if (!result || result === 'unsuccessful') {\n          return Promise.reject('复制文本失败!')\n        } else {\n          return Promise.resolve()\n        }\n      } catch (e) {\n        document.body.removeChild(input);\n        return Promise.reject(\n          '当前浏览器不支持复制功能，请检查更新或更换其他浏览器操作!'\n        )\n      }\n    }\n  }\n\n  // 写入图片到剪切板\n  fn.writeClipImg = async function (event, success, error) {\n    const eventSrc = rightMenuConfig.customPicUrl.enable ?\n      event.target.currentSrc.replace(rightMenuConfig.customPicUrl.old, rightMenuConfig.customPicUrl.new) :\n      event.target.currentSrc;\n    const parentElement = event.target.parentElement;\n    try {\n      const data = await fetch(eventSrc);\n      const blob = await data.blob();\n      await navigator.clipboard\n        .write([\n          new ClipboardItem({\n            [blob.type]: blob\n          })\n        ]).then(() => {\n          success(true);\n        }, (e) => {\n          console.error('图片复制失败：', e);\n          error(e);\n        });\n    } catch (e) {\n      const dom = document;\n      try {\n        if (dom.body.createTextRange) {\n          const textRange = document.body.createTextRange();\n          textRange.moveToElementText(parentElement);\n          textRange.select();\n        } else if (window.getSelection) {\n          const selection = window.getSelection();\n          const range = document.createRange();\n          range.selectNodeContents(parentElement);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n        document.execCommand('copy');\n        window.getSelection().removeAllRanges();\n        success(false);\n      } catch (e) {\n        console.error(e);\n        error('不支持复制当前图片！');\n      }\n    }\n  }\n\n  // 请求读取剪切板\n  fn.readClipboard = async () => {\n    const result = await navigator.permissions.query({\n      name: 'clipboard-read'\n    });\n    if (result.state === 'granted' || result.state === 'prompt') {\n      // 修改为 .read()  可以获取剪切板中的文字/图片\n      // 返回的是 ClipboardItem\n      return navigator.clipboard\n        .readText()\n        .then(text => text)\n        .catch(err => Promise.reject(err));\n    }\n    return Promise.reject(result);\n  }\n\n  // 粘贴文本\n  fn.insertAtCaret = (elemt, value) => {\n    const startPos = elemt.selectionStart,\n      endPos = elemt.selectionEnd;\n    if (document.selection) {\n      elemt.focus();\n      var sel = document.selection.createRange();\n      sel.text = value;\n      elemt.focus();\n    } else {\n      if (startPos || startPos == '0') {\n        var scrollTop = elemt.scrollTop;\n        elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);\n        elemt.focus();\n        elemt.selectionStart = startPos + value.length;\n        elemt.selectionEnd = startPos + value.length;\n        elemt.scrollTop = scrollTop;\n      } else {\n        elemt.value += value;\n        elemt.focus();\n      }\n    }\n  }\n\n  // 执行打印页面\n  fn.printHtml = () => {\n    if (volantis.isReadModel) fn.readingModel();\n    DOMController.setAttribute('details', 'open', 'true');\n    DOMController.remove('.cus-article-bkg');\n    DOMController.remove('.iziToast-overlay');\n    DOMController.remove('.iziToast-wrapper');\n    DOMController.remove('.prev-next');\n    DOMController.remove('footer');\n    DOMController.remove('#l_header');\n    DOMController.remove('#l_cover');\n    DOMController.remove('#l_side');\n    DOMController.remove('#comments');\n    DOMController.remove('#s-top');\n    DOMController.remove('#BKG');\n    DOMController.remove('#rightmenu-wrapper');\n    DOMController.remove('.nav-tabs');\n    DOMController.remove('.parallax-mirror');\n    DOMController.remove('.new-meta-item.share');\n    DOMController.remove('div.footer');\n    DOMController.setStyle('body', 'backgroundColor', 'unset');\n    DOMController.setStyle('#l_main', 'width', '100%');\n    DOMController.setStyle('#post', 'boxShadow', 'none');\n    DOMController.setStyle('#post', 'background', 'none');\n    DOMController.setStyle('#post', 'padding', '0');\n    DOMController.setStyle('h1', 'textAlign', 'center');\n    DOMController.setStyle('h1', 'fontWeight', '600');\n    DOMController.setStyle('h1', 'fontSize', '2rem');\n    DOMController.setStyle('h1', 'marginBottom', '20px');\n    DOMController.setStyle('.tab-pane', 'display', 'block');\n    DOMController.setStyle('.tab-content', 'borderTop', 'none');\n    DOMController.setStyle('.highlight>table pre', 'whiteSpace', 'pre-wrap');\n    DOMController.setStyle('.highlight>table pre', 'wordBreak', 'break-all');\n    DOMController.setStyle('.fancybox img', 'height', 'auto');\n    DOMController.setStyle('.fancybox img', 'weight', 'auto');\n\n    setTimeout(() => {\n      window.print();\n      document.body.innerHTML = '';\n      window.location.reload();\n    }, 50);\n  }\n\n  // 阅读模式\n  fn.readingModel = () => {\n    if (typeof ScrollReveal === 'function') ScrollReveal().clean('#comments');\n    DOMController.fadeToggle(document.querySelector('#l_header'))\n    DOMController.fadeToggle(document.querySelector('footer'))\n    DOMController.fadeToggle(document.querySelector('#s-top'))\n    DOMController.fadeToggle(document.querySelector('.article-meta#bottom'))\n    DOMController.fadeToggle(document.querySelector('.prev-next'))\n    DOMController.fadeToggle(document.querySelector('#l_side'))\n    DOMController.fadeToggle(document.querySelector('#comments'))\n\n    DOMController.toggleClass(document.querySelector('#l_main'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#l_main'), 'common_read_main')\n    DOMController.toggleClass(document.querySelector('#l_body'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#safearea'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#pjax-container'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#read_bkg'), 'common_read_hide')\n    DOMController.toggleClass(document.querySelector('h1'), 'common_read_h1')\n    DOMController.toggleClass(document.querySelector('#post'), 'post_read')\n    DOMController.toggleClass(document.querySelector('#l_cover'), 'read_cover')\n    DOMController.toggleClass(document.querySelector('.widget.toc-wrapper'), 'post_read')\n\n    volantis.isReadModel = volantis.isReadModel === undefined ? true : !volantis.isReadModel;\n    if (volantis.isReadModel) {\n      const option = {\n        backgroundColor: 'var(--color-read-post)',\n        icon: rightMenuConfig.faicon + ' fa-book-reader',\n        time: 5000\n      }\n      if (messageRightMenu) VolantisApp.message('系统提示', '阅读模式已开启，您可以点击屏幕空白处退出。', option);\n      document.querySelector('#l_body').removeEventListener('click', fn.readingModel);\n      document.querySelector('#l_body').addEventListener('click', (event) => {\n        if (DOMController.hasClass(event.target, 'common_read')) {\n          fn.readingModel();\n        }\n      });\n    } else {\n      document.querySelector('#l_body').removeEventListener('click', fn.readingModel);\n      document.querySelector('#post').removeEventListener('click', fn.readingModel);\n    }\n  }\n\n  return {\n    init: (notice = false) => {\n      fn.init();\n      fn.initEvent();\n      if (notice && messageRightMenu) VolantisApp.message('系统提示', '自定义右键注册成功。');\n    },\n    destroy: (notice = false) => {\n      fn.hideMenu();\n      window.document.oncontextmenu = () => {\n        return true\n      };\n      if (notice && messageRightMenu) VolantisApp.message('系统提示', '自定义右键注销成功。');\n    },\n    hideMenu: fn.hideMenu,\n    readingModel: fn.readingModel\n  }\n})()\n\nObject.freeze(RightMenu);\n\nvolantis.requestAnimationFrame(() => {\n  if (document.readyState !== 'loading') {\n    RightMenu.init();\n\n    volantis.pjax.send(() => {\n      RightMenu.hideMenu();\n    })\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      RightMenu.init();\n\n      volantis.pjax.send(() => {\n        RightMenu.hideMenu();\n      })\n    })\n  }\n});\n"]}